<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:assignment_2425"
             x:Class="assignment_2425.MenuPage"
             BackgroundColor="#131313">

    <ContentPage.Resources>
        <ResourceDictionary>
            <local:StringNotEmptyConverter x:Key="StringNotEmptyConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid RowDefinitions="Auto,*">
        <!-- Sticky Navbar -->
        <local:StickyNavBar Grid.Row="0" />

        <!-- Scrollable Content -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="25" Padding="20">
                <!-- Hero Section -->
                <VerticalStackLayout Spacing="10" Padding="0,20,0,10">
                    <Label Text="Signature Dishes to Satisfy Every Appetite"
                           Style="{StaticResource TitleStyle}"
                           TextColor="#FECA18"
                           FontSize="32"
                           HorizontalTextAlignment="Center" />
                    <Label Text="EXPLORE OUR MENU"
                           FontFamily="PalanquinDarkMedium"
                           FontAttributes="Bold"
                           FontSize="26"
                           TextColor="#7ECB37"
                           HorizontalTextAlignment="Center" />
                    <Label Text="Our menu offers the best of Caribbean cuisine at prices that won’t break the bank. Find something delicious for every budget!"
                           FontSize="18"
                           TextColor="White"
                           HorizontalTextAlignment="Center"
                           Padding="10,0" />
                </VerticalStackLayout>

                <!-- Menu Carousel -->
                <CarouselView x:Name="MenuCarousel"
                              ItemsSource="{Binding MenuImages}"
                              IndicatorView="MenuIndicators"
                              HeightRequest="450"
                              Loop="True">
                    <CarouselView.ItemTemplate>
                        <DataTemplate>
                            <Grid>
                                <Image Source="{Binding ImageSource}"
                                       Aspect="AspectFit">
                                    <Image.GestureRecognizers>
                                        <TapGestureRecognizer Tapped="OnImageTapped" />
                                    </Image.GestureRecognizers>
                                </Image>
                            </Grid>
                        </DataTemplate>
                    </CarouselView.ItemTemplate>
                </CarouselView>

                <!-- Indicators -->
                <IndicatorView x:Name="MenuIndicators"
                   IndicatorColor="#FFFFFF"
                   SelectedIndicatorColor="#FECA18"
                   HorizontalOptions="Center"
                   HeightRequest="30"
                   Margin="0,10,0,0" />

                <!-- Popular Dishes Section -->
                <Label Text="Popular Dishes"
                       FontSize="20"
                       FontAttributes="Bold"
                       TextColor="#7ECB37" />

                <!-- Dish Section with Static Stack Layout -->
                <VerticalStackLayout Spacing="20">
                    <!-- Dish 1 -->
                    <Frame BackgroundColor="#1C1C1C" CornerRadius="12" Padding="10">
                        <VerticalStackLayout>
                            <Image Source="bbq_wingspn.png" Aspect="AspectFill" HeightRequest="130" />
                            <Label Text="BBQ Wings"
                                   FontAttributes="Bold"
                                   FontSize="17"
                                   TextColor="White" />
                            <Label Text="£4.00"
                                   FontSize="16"
                                   TextColor="#FECA18" />
                            <Label Text="Sweet and tangy barbecued wings."
                                   FontSize="16"
                                   TextColor="White" />
                        </VerticalStackLayout>
                    </Frame>

                    <!-- Dish 2 -->
                    <Frame BackgroundColor="#1C1C1C" CornerRadius="12" Padding="10">
                        <VerticalStackLayout>
                            <Image Source="fried_fishtwo.png" Aspect="AspectFill" HeightRequest="130" />
                            <Label Text="Fried Fish"
                                   FontAttributes="Bold"
                                   FontSize="18"
                                   TextColor="White" />
                            <Label Text="£7.00"
                                   FontSize="16"
                                   TextColor="#FECA18" />
                            <Label Text="Crispy, golden-fried fish fillet"
                                   FontSize="16"
                                   TextColor="White" />
                        </VerticalStackLayout>
                    </Frame>

                    <!-- Dish 3 -->
                    <Frame BackgroundColor="#1C1C1C" CornerRadius="12" Padding="10">
                        <VerticalStackLayout>
                            <Image Source="pattie.png" Aspect="AspectFill" HeightRequest="130" />
                            <Label Text="Patties"
                                   FontAttributes="Bold"
                                   FontSize="18"
                                   TextColor="White" />
                            <Label Text="£2.50"
                                   FontSize="16"
                                   TextColor="#FECA18" />
                            <Label Text="Flaky pastry filled with seasoned meat or veg."
                                   FontSize="16"
                                   TextColor="White" />
                        </VerticalStackLayout>
                    </Frame>
                </VerticalStackLayout>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>
